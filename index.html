<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Panic Retro TV</title>

  <!-- Webamp CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/webamp@2.2.0/built/webamp.css">

  <style>
    body {
      margin: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: black;
      overflow: hidden;
    }

    /* TV Screen */
    #screen {
      width: 640px;
      height: 360px;
      position: relative;
      overflow: hidden;
      background-color: #000;
      border: 10px solid #333;
      box-shadow: 0 0 60px #00ffcc, 0 0 100px #00ffcc inset;
    }

    .screen-container {
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: relative;
    }

    .screen-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
    }

    /* Effects */
    .vignette {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/86186/crt.png');
      background-size: 100% 100%;
      z-index: 1000;
      pointer-events: none;
    }

    .scanlines {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(255,255,255,0.05),
        rgba(255,255,255,0.05) 1px,
        transparent 2px,
        transparent 2px
      );
      z-index: 999;
      pointer-events: none;
    }

    /* Webamp container */
    #webamp-container {
      width: 400px;
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 2000;
    }
  </style>
</head>
<body>

  <!-- TV Screen -->
  <div id="screen"></div>

  <!-- Webamp Player -->
  <div id="webamp-container"></div>

  <!-- Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/webamp@2.2.0/built/webamp.bundle.min.js"></script>

  <!-- TV Effects JS -->
  <script>
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    class ScreenEffect {
      constructor(parent) {
        this.parent = typeof parent === "string" ? document.querySelector(parent) : parent;
        this.effects = {};
        this.render();
      }

      render() {
        const container = document.createElement("div");
        container.classList.add("screen-container");

        const wrapper1 = document.createElement("div");
        wrapper1.classList.add("screen-wrapper");

        const wrapper2 = document.createElement("div");
        wrapper2.classList.add("screen-wrapper");

        wrapper1.appendChild(wrapper2);
        container.appendChild(wrapper1);

        this.parent.appendChild(container);
        this.nodes = { container, wrapper1, wrapper2 };
      }

      add(type, options = {}) {
        let node;
        switch(type) {
          case "image":
            node = document.createElement("img");
            node.src = options.src;
            node.style.width = "100%";
            node.style.height = "100%";
            node.style.filter = `blur(${options.blur || 0}px)`;
            this.nodes.wrapper2.appendChild(node);
            break;
          case "video":
            node = document.createElement("video");
            node.src = options.src;
            node.autoplay = true;
            node.loop = true;
            node.muted = true;
            node.style.width = "100%";
            node.style.height = "100%";
            node.style.filter = `blur(${options.blur || 0}px)`;
            this.nodes.wrapper2.appendChild(node);
            break;
          case "vignette":
            node = document.createElement("div");
            node.classList.add("vignette");
            this.nodes.container.appendChild(node);
            break;
          case "scanlines":
            node = document.createElement("div");
            node.classList.add("scanlines");
            this.nodes.wrapper2.appendChild(node);
            break;
        }
        this.effects[type] = { node, enabled: true };
      }
    }

    // Initialize screen and effects
    const screen = new ScreenEffect("#screen");
    screen.add("image", { src: "https://media.giphy.com/media/xT9IgIc0lryrxvqVGM/giphy.gif", blur: 1.2 });
    screen.add("scanlines");
    screen.add("vignette");
  </script>

  <!-- Webamp Player JS -->
  <script>
    const songFiles = [
      "https://your-domain.com/music/02_Disco.mp3",
      "https://your-domain.com/music/03_Wondering.mp3",
      "https://your-domain.com/music/04_Greta.mp3"
      // Add all your songs here
    ];

    const initialTracks = songFiles.map(file => ({
      metaData: { artist: "Widespread Panic", title: file.split("/").pop().replace(".mp3","") },
      url: file
    }));

    const webamp = new Webamp({ initialTracks });
    webamp.renderWhenReady(document.getElementById("webamp-container"));
  </script>

</body>
</html>



























